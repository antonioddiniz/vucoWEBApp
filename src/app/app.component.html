<header class="main-header">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <div class="header-content">
        <!-- Logo -->
        <div class="logo-container">
            <img 
                (click)="redirectToHome()" 
                src="assets/vucologovermelhoazul.png" 
                alt="Logo Vuco" 
                class="logo-image"
            />
        </div>

        <!-- Search Bar -->
        <div class="search-bar" [class.active]="searchActive">
            <div class="search-input-wrapper">
                <mat-icon class="search-icon">search</mat-icon>
                <input 
                    type="text"
                    class="search-input"
                    [(ngModel)]="searchQuery"
                    (focus)="onSearchFocus()"
                    (blur)="onSearchBlur()"
                    (keyup.enter)="performSearch()"
                    placeholder="Buscar produtos..."
                />
                <button 
                    *ngIf="searchQuery" 
                    class="clear-button"
                    (click)="clearSearch()"
                    type="button">
                    <mat-icon>close</mat-icon>
                </button>
            </div>
            <button 
                class="search-button"
                (click)="performSearch()"
                type="button"
                [disabled]="!searchQuery">
                <mat-icon>search</mat-icon>
            </button>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <ng-container *ngIf="!isAuthenticated()">
                <button (click)="redirectToLogin()" class="button-escuro">
                    Entrar
                </button>
                <button (click)="redirectToCadastro()" class="button-claro">
                    Criar conta
                </button>
            </ng-container>

            <button 
                *ngIf="isAuthenticated()" 
                (click)="toggleMenu()" 
                class="menu-button-icon">
                <mat-icon>menu</mat-icon>
            </button>
        </div>
    </div>
</header>

<!-- Overlay do modal -->
<div *ngIf="menuOpen" class="menu-overlay" (click)="closeMenu()"></div>

<!-- Menu lateral (sidebar) -->
<div class="menu-sidebar" [class.open]="menuOpen">
    <div class="menu-header">
        <h2>Menu</h2>
        <button (click)="closeMenu()" class="close-button">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    
    <div class="menu-content">
        <ng-container *ngIf="isAuthenticated()">
            <button (click)="redirectToCriarProduto()" class="button-escuro menu-button">
                <mat-icon>add_circle</mat-icon>
                <span>Desapegar</span>
            </button>
            <button (click)="navigateToMyProducts()" class="button-claro menu-button">
                <mat-icon>inventory</mat-icon>
                <span>Meus produtos</span>
            </button>
            <button (click)="redirectToTroca()" class="button-claro menu-button">
                <mat-icon>swap_horiz</mat-icon>
                <span>Minhas trocas</span>
            </button>
            <button (click)="logout()" class="button-escuro menu-button logout-menu-button">
                <mat-icon>logout</mat-icon>
                <span>Sair</span>
            </button>
        </ng-container>
    </div>
</div>

<router-outlet />



